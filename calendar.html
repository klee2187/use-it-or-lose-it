<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendar | Use It or Lose It</title>
    <meta name="description" content="Track inventory expiration dates with a monthly calendar view." />
    
    <style>
        /* Define variables necessary for immediate rendering to prevent FOUC/CLS */
        :root {
            --white: #ffffff;
            --green: #4CAF50;
            --dark-green: #388E3C;
            --light-green: #E8F5E9;
            --accent-orange: #FF9800;
            --text-dark: #212121;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: var(--text-dark);
        }

        /* Basic Calendar Box Structure */
        .calendar-box {
            background-color: var(--white);
            border: 2px solid var(--light-green);
            border-radius: 15px;
            padding: 25px;
            margin: 20px auto;
            max-width: 1000px;
            min-height: 700px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .calendar-header-days, .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
        }
        
        #calendarGrid {
            min-height: 620px; 
            display: grid;
            grid-template-columns: repeat(7, 1fr);
        }
        
        .calendar-header-days {
            text-align: center;
            font-weight: bold;
        }

        /* Essential button styling */
        .calendar-controls { display: flex; justify-content: center; gap: 15px; }
        .calendar-controls button {
            padding: 10px 20px; border-radius: 8px;
            background-color: var(--accent-orange); 
            color: var(--white); border: none; cursor: pointer;
        }
    </style>

    <link rel="preload" href="css/global.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="css/calendar.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="css/global.css">
        <link rel="stylesheet" href="css/calendar.css">
    </noscript>

    <script type="module" src="js/calendar.js" defer></script>
</head>
<body>
    
    <header>
        <h1>Use It or Lose It</h1>
        <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-menu">
            <span class="hamburger"></span>
        </button>
        <nav id="nav-menu">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="inventory.html">Inventory</a></li>
                <li><a href="recipes.html">Recipes</a></li>
                <li><a href="recipes-all.html">All Recipes</a></li>
                <li><a href="budget.html">Budget</a></li>
                <li><a href="calendar.html" class="active">Calendar</a></li>
                <li><a href="profile.html">Profile</a></li>
            </ul>
        </nav>
    </header>

    <section id="alertSection" class="alert hidden" role="alert">
        <p id="alertMessage"></p>
        <button id="alertDismissBtn" aria-label="Dismiss alert">✖</button>
    </section>

    <main id="main">
        <section class="calendar-box">
            <h2 id="calendarHeader" aria-live="polite">Calendar</h2>
            
            <div class="calendar-controls">
                <button id="prevMonthBtn" aria-label="Previous Month">← Previous</button>
                <button id="todayBtn">Today</button>
                <button id="nextMonthBtn" aria-label="Next Month">Next →</button>
            </div>
            
            <div id="calendarContainer">
                <div class="calendar-header-days" aria-hidden="true">
                    <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
                </div>
                <div id="calendarGrid" class="calendar-grid" role="grid" aria-labelledby="calendarHeader">
                    </div>
            </div>
        </section>
        
        <section class="monthly-summary">
            <h3>Monthly Expiring Items Summary</h3>
            <ul id="monthlySummaryList" aria-live="polite"></ul>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Use It or Lose It. All rights reserved.</p>
    </footer>
</body>
</html>